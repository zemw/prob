{
  "hash": "c7d1eb1ed976569c2bef264f24be3dc3",
  "result": {
    "engine": "knitr",
    "markdown": "## Monty Hall problem\n\n:::{#exm-monty}\n### Monty Hall problem\nSuppose you are on Monty Hall's TV show. There are\nthree doors. One of them has a car behind it. The other two doors have\ngoats. Monty knows which one has the car. Monty now asks you to pick one\ndoor. You will win whatever is behind the door. After you pick one door.\nMonty opens another door that shows a goat. Monty then asks you if you\nwant to switch. Is it optimal to switch?\n\n![](img/monty.png){fig-align=\"center\" width=\"50%\"}\n\nWe present two solutions to the problem. The first one is using the law\nof total probability. Let $S$: succeed assuming switch; $D_{j}$: door\n$j$ has the car, $j\\in1,2,3$. Without loss of generality, assume the\ninitial pick is Door 1. Monty will always open the door with a goat. By\nthe law of total probability,\n$$\\begin{aligned}P(S)= & \\underbrace{P(S|D_{1})}_{\\textrm{switch from initial pick}}P(D_{1})+\\underbrace{P(S|D_{2})}_{\\textrm{Monty opens door 3}}P(D_{2})+\\underbrace{P(S|D_{3})}_{\\textrm{Monty opens door 2}}P(D_{3})\\\\\n= & 0+1\\times\\frac{1}{3}+1\\times\\frac{1}{3}=\\frac{2}{3}.\n\\end{aligned}$$\n\nThe problem can also be solved using the Bayes' rule. Let $D_{j}$: door\n$j$ has the car; $M_{j}$: Monty opens door $j$, $j\\in1,2,3$. Assume the\ninitial pick is Door 1. If Monty opens door 3, the probability of\nwinning the car assuming switching is\n$$\\begin{aligned}P(D_{2}|M_{3})= & \\frac{P(M_{3}|D_{2})P(D_{2})}{P(M_{3})}\\\\\n= & \\frac{P(M_{3}|D_{2})P(D_{2})}{P(M_{3}|D_{1})P(D_{1})+P(M_{3}|D_{2})P(D_{2})+P(M_{3}|D_{3})P(D_{3})}\\\\\n= & \\frac{1\\times\\frac{1}{3}}{\\frac{1}{2}\\times\\frac{1}{3}+1\\times\\frac{1}{3}+0}=\\frac{2}{3}.\n\\end{aligned}$$\n\nNote that, if door 1 has the car, Monty will open door 2 and 3 with\nequal probability, thus $P(M_{3}|D_{1})=\\frac{1}{2}$. And Monty will\nnever open the door with the car, therefore $P(M_{3}|D_{3})=0$.\nSimilarly, if Monty opens door 2, we have $P(D_{3}|M_{2})=\\frac{2}{3}$.\nTherefore, the optimal choice is always to switch. Intuitively, because\nMonty knows which door has the car, the fact that he always opens the\ndoor without the car gives additional information regarding the choice\nof the door.\n:::\n\n## R simulation {.unnumbered}\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Number of simulations\nN <- 1000 \n\n# Number of total wins\nW <- 0\n\n# Prizes offered\nprizes <- c('Car', 'Goat 1', 'Goat 2')\n\nfor (i in 1:N) {\n  \n  # Prizes are in random order behind the doors\n  doors <- sample(prizes, 3)\n  \n  # Guest picks a random door\n  pick <- sample(doors, 1)\n  \n  # Monty opens the door that is not picked by the guest \n  # nor does it has the Car behind it\n  open <- sample(setdiff(doors, c(pick, 'Car')), 1)\n  \n  # If the Guest swithes, he chooses the door that is not\n  # his initial pick nor the one opened by Monty\n  switch <- setdiff(doors, c(pick, open))\n  \n  # The guest wins if his final choice has the Car\n  win <- switch == 'Car'\n  \n  # Increase the winning counter\n  W <- W + win\n}\n\n# Frequency of winning the game if always switching\nW/N\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.65\n```\n\n\n:::\n:::\n\n\n",
    "supporting": [
      "08_montyhall_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {
      "knitr": [
        "{\"type\":\"list\",\"attributes\":{},\"value\":[]}"
      ]
    },
    "preserve": null,
    "postProcess": false
  }
}