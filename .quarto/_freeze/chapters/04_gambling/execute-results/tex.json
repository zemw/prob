{
  "hash": "93cb63c68335f1a52f8f3d100038b593",
  "result": {
    "engine": "knitr",
    "markdown": "# Gambling problems\n\n::: {#exm-1.3}\nTexas hold'em is one of the most popular variant of the card game of\npoker. Essentially, the players in the game bet on the rankings of their\nhand of five cards (illustrated in the figure below). For the game to be\nfair, a hand of higher values must have lower probability than a hand of\nlower values. Compute the probability for each type of hand.\n:::\n\n![](img/poker.png){fig-align=\"center\" width=\"40%\"}\n\n::: solution\nTo apply @def-classical, we first determine the total number of possible\nfive-card hands from a standard 52-card deck. The total number of\ncombinations is:\n$$\\binom{52}{5} = \\frac{52 \\times 51 \\times 50 \\times 49 \\times 48}{5 \\times 4 \\times 3 \\times 2 \\times 1} = 2,598,960$$\n\nWe then find the number of combinations for each hand type. As an\nillustration, we only compute the case of *Full House*.\n\nA full house consists of three cards of one rank and two cards of\nanother rank. The number of ways to choose the rank for the triplet is\n$\\binom{13}{1} = 13$ , and the number of ways to choose 3 cards of that\nrank is $\\binom{4}{3} = 4$ . The number of ways to choose the rank for\nthe pair is $\\binom{12}{1} = 12$ , and the number of ways to choose 2\ncards of that rank is $\\binom{4}{2} = 6$ . Therefore, the total number\nof full houses is:\n$\\binom{13}{1}\\binom{4}{3}\\cdot\\binom{12}{1}\\binom{4}{2} = 3,744$.\n\nThus, the probability is:\n$$P(\\text{Full House}) = \\frac{3,744}{2,598,960} \\approx 0.144\\%$$\n:::\n\n::: {#exm-newton}\n(Newton-Pepys problem) The Newton-Pepys problem is a classical\nprobability problem involving dice rolls, posed in correspondence\nbetween Samuel Pepys, a famous diarist and government official, and\nIsaac Newton in 1693. The problem concerns which of the following three\nevents is most likely when rolling fair dice:\n\n1.  At least one 6 appears when 6 fair dice are rolled.\n2.  At least two 6's appear when 12 fair dice are rolled.\n3.  At least three 6's appear when 18 fair dice are rolled.\n:::\n\n::: solution\nWe compute the probabilities for each scenario:\n\n1.  Probability of at least one 6 in six rolls of a single die:\n\n    The probability of not rolling a 6 in six rolls is:\n    $$P(\\text{no 6 in six rolls}) = \\frac{5^6}{6^6}$$ Thus, the\n    probability of at least one 6 in six rolls is:\n    $$P(\\text{at least one 6}) = 1 - \\frac{5^6}{6^6} \\approx 0.67$$\n\n2.  Probability of at least two 6s in twelve rolls of a single die:\n\n    We use the complement, finding the probabilities of getting 0 or 1\n    six. The probability of getting exactly 0 sixes in twelve rolls is\n    similar as above. The probability of getting exactly 1 six is:\n    $$P(1 \\text{ six}) = \\binom{12}{1} \\frac{5^{11}}{6^{12}}$$ Thus, the\n    probability of at least two 6s is:\n    $$P(\\text{at least two 6s}) = 1 - P(0 \\text{ six})-P(1 \\text{ six}) \\approx 0.62$$\n\n3.  Probability of at least three 6s in eighteen rolls of a single die:\n\n    Similarly, we calculate the complement, finding the probabilities of\n    getting fewer than 3 sixes. $$\\begin{aligned}\n    P(\\text{at least three 6s}) &= 1 - P(0\\text{ six}) -P(1\\text{ six}) - P(2\\text{ sixes}) \\\\ \\\\\n    &= 1- \\frac{5^{18} + \\binom{18}{1}5^{17} + \\binom{18}{2} 5^{16}}{6^{18}} \\approx 0.60\n    \\end{aligned}\n    $$\n\nThus,\n$P(\\text{one 6 in 6 rolls}) > P(\\text{two 6s in 12 rolls}) > P(\\text{three 6s in 18 rolls})$.\n\nIntuitively, this is because as the number of dice increases, the\nlikelihood of matching higher thresholds does not keep pace with the\nprobability of rolling individual sixes. This is perhaps contrary to\nmost people's common sense: the more dice rolled, the more likely to see\nthe sixes.\n:::\n\n## Find probability by simulation {.unnumbered}\n\nLet's redo @exm-1.3 by simulation.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# generate a deck of cards\ndeck.grid <- expand.grid(c(1:10,'J','Q','K','A'), c('♠','♥','♦','♣'))\n\n# convert the grid to a vector\ndeck <- do.call(paste0, deck.grid)\n\n# total number of simulations\nN <- 100000 \n\n# number of target hand\nK <- 0\n\n# for random generator\nset.seed(1000)\n\nfor (j in 1:N) {\n\n  # a random five-cards hand\n  hand <- sample(deck, 5)\n\n  # drop the color\n  num <- substr(hand, 1, nchar(hand)-1)\n  \n  # Full House have only two distinguished numbers\n  if ( length(unique(num)) == 2 ) {\n    K <- K + 1\n  }\n}\n\n# compute the probability\nP <- K / N\n\nsprintf(\"Prob of Full House: %.3f %%\", P*100)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Prob of Full House: 0.146 %\"\n```\n\n\n:::\n:::\n\n",
    "supporting": [
      "04_gambling_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {
      "knitr": [
        "{\"type\":\"list\",\"attributes\":{},\"value\":[]}"
      ]
    },
    "preserve": null,
    "postProcess": false
  }
}