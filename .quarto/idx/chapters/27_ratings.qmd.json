{"title":"Application: seller ratings\\*","markdown":{"headingText":"Application: seller ratings\\*","containsRefs":false,"markdown":"\nThis example involves multiple types of discrete distributions. The\ntechnique used to solve this problem aligns with Bayesian inference,\nwhich is beyond the scope of this course. However, it remains an\ninteresting case. The procedure illustrates the process of statistical\nmodeling: we begin with an assumption and a proposed statistical model,\nthen update it with new data. Finally, we draw inferences based on the\nmodel, typically addressing the question we aim to answer. You are not\nrequired to understand everything in this example. Nonetheless, it helps\nto develop a mindset of statistical inference early in the study.\n\nSuppose you are shopping a product online. There are three sellers with\nthe following ratings:\n\n-   Seller 1: 100% positive out of 10 reviews\n-   Seller 2: 96% positive out of 50 reviews\n-   Seller 3: 93% positive out of 200 reviews\n\nWhich seller is likely to give the best service?\n\nThe problem is intriguing because it is obvious that higher ratings do\nnot necessarily means higher satisfaction. We have to weight in the\nnumber of reviews. The more reviews, the more trustworthy the ratings\nare. Let $X_{j}^{(i)}$ be a random variable that means consumer $j$ is\nsatisfied with seller $i$, where $i\\in\\left\\{ 1,2,3\\right\\}$. Assume\n$X_{j}^{(i)}$ follows a Bernoulli distribution:\n\n$$X_{j}^{(i)}=\\begin{cases}\n1 & \\textrm{satisfied with probability } \\theta_{i}\\\\\n0 & \\textrm{otherwise}\n\\end{cases}$$\n\nwhere $\\theta_{i}$ is an unknown parameter of seller $i$ that captures\ntheir \"genuine\" satisfaction rate. We assume the consumers independently\nwrite their ratings. The overall positive rate of seller $i$ is\ntherefore $R_{i}=\\frac{1}{n_{i}}\\sum_{j}X_{j}^{(i)}$ where $n_{i}$ is\nthe total number of reviews. We want to infer the value of $\\theta_{i}$\nfrom their observed positive rate $R_{i}$. From now on we drop the\nseller index $i$ to simply the notation since it is symmetric for all\nsellers.\n\nBecause we have no prior knowledge about $\\theta$. We assume that\n$\\theta$ takes any value from $[0,1]$ equally likely, i.e.\n$\\theta\\sim\\textrm{Unif}(0,1)$. Assuming each $X_{j}$ is independent and\nidentical, then\n\n$$S=X_{1}+X_{2}+\\dots+X_{n}$$\n\nfollows the Binomial distribution with PMF:\n\n$$p(k|\\theta)=\\binom{n}{k}\\theta^{k}(1-\\theta)^{n-k}$$\n\nOur goal is to find: $p(\\theta|k)$. Recall that the Bayes' rule allows\nus to invert the conditional probability:\n\n$$\\begin{aligned}p(\\theta|k) & =\\frac{p(k|\\theta)p(\\theta)}{p(k)}=\\frac{p(k|\\theta)p(\\theta)}{\\int_{-\\infty}^{\\infty}p(k|\\theta)p(\\theta)d\\theta}\\\\[1em]\\end{aligned}$$\n\nSince $\\theta\\sim\\textrm{Unif}(0,1)$, we have $$p(\\theta)=\\begin{cases}\n1 & \\textrm{if }\\theta\\in[0,1]\\\\\n0 & \\textrm{otherwise}\n\\end{cases}$$\n\nWe now focus on $\\theta\\in[0,1]$, since the probability is $0$\notherwise. Substitute in the PMF of the Binomial distribution,\n\n$$p(\\theta|k)=\\frac{\\binom{n}{k}\\theta^{k}(1-\\theta)^{n-k}}{\\int_{0}^{1}\\binom{n}{k}\\theta^{k}(1-\\theta)^{n-k}d\\theta}$$\n\nThe hard part is to evaluate the integral. We state without proof (this\nis known as the Beta function, which we will prove in later chapters):\n\n$$\\int_{0}^{1}\\theta^{k}(1-\\theta)^{n-k}=\\frac{k!(n-k)!}{(n+1)!}$$\n\nTherefore,\n\n$$p(\\theta|k)=\\frac{(n+1)!}{k!(n-k)!}\\theta^{k}(1-\\theta)^{n-k}$$\n\nNow suppose you are the next customer. The probability that you would be\nsatisfied is\n\n$$\\begin{aligned}P(X_{n+1}=1|S=k)= & \\int_{0}^{1}P(x_{n+1}=1|\\theta)p(\\theta|k)d\\theta\\\\\n= & \\int_{0}^{1}\\theta\\times\\frac{(n+1)!}{k!(n-k)!}\\theta^{k}(1-\\theta)^{n-k}d\\theta\\\\\n= & \\frac{(n+1)!}{k!(n-k)!}\\int_{0}^{1}\\theta^{k+1}(1-\\theta)^{(n+1)-(k+1)}d\\theta\\\\\n= & \\frac{(n+1)!}{k!(n-k)!}\\times\\frac{(k+1)!(n-k)!}{(n+2)!}\\\\\n= & \\frac{k+1}{n+2}.\n\\end{aligned}$$\n\nNow we substitute the ratings for the three sellers:\n\n-   Seller 1: $n=10,k=10$\n-   Seller 2: $n=50,k=48$\n-   Seller 3: $n=200,k=186$\n\nThe probabilities that you would be satisfied with each seller are: 92%,\n94%, 93%. The result is known as the **Laplace's rule of succession**.\nThe rule of thumb is, pretending we have too more reviews: one is\npositive, the other is negative. Compute the satisfaction rate as\n$\\frac{k+1}{n+2}$.\n\n","srcMarkdownNoYaml":""},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"27_ratings.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.7.29","editor":"source","theme":"cosmo","page-layout":"article","grid":{"sidebar-width":"300px","body-width":"900px","margin-width":"300px","gutter-width":"1.5rem"}},"extensions":{"book":{"multiFile":true}}},"pdf":{"identifier":{"display-name":"PDF","target-format":"pdf","base-format":"pdf"},"execute":{"fig-width":5.5,"fig-height":3.5,"fig-format":"pdf","fig-dpi":300,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"pdf","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":true,"merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"pdf-engine":"xelatex","standalone":true,"variables":{"graphics":true,"tables":true},"default-image-extension":"pdf","to":"pdf","output-file":"27_ratings.pdf"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"block-headings":true,"editor":"source","documentclass":"scrreprt"},"extensions":{"book":{"selfContainedOutput":true}}}},"projectFormats":["html","pdf"]}