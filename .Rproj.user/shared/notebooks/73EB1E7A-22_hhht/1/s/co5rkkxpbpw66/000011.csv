"0","# number of simulations"
"0","N <- 1000  "
"0",""
"0","# X: number of flips until HH"
"0","X <- numeric(N) "
"0",""
"0","set.seed(100)"
"0",""
"0","# run simulations"
"0","for (i in 1:N) {"
"0","  x <- 0"
"0","  # repeat until first head"
"0","  while(TRUE) {"
"0","    x <- x + 1"
"0","    t <- sample(c('H','T'), 1, F)"
"0","    if (x >=2 && t == 'H' && tt == 'H') break"
"0","    else tt <- t  # store last toss"
"0","  }"
"0","  # record the number"
"0","  X[i] <- x"
"0","}"
"0",""
"0","cat(""Average number of flips until HH:"", mean(X))"
"1","Average number of flips until HH:"
"1"," "
"1","5.789"
