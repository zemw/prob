"0","# number of simulations"
"0","N <- 1000  "
"0",""
"0","# X: number of flips until HT"
"0","Y <- numeric(N) "
"0",""
"0","set.seed(100)"
"0",""
"0","# run simulations"
"0","for (i in 1:N) {"
"0","  y <- 0"
"0","  # repeat until first head"
"0","  while(TRUE) {"
"0","    y <- y + 1"
"0","    t <- sample(c('H','T'), 1, F)"
"0","    if (y >= 2 && t == 'T' && tt == 'H') break"
"0","    else tt <- t  # store last toss"
"0","  }"
"0","  # record the number"
"0","  Y[i] <- y"
"0","}"
"0",""
"0","cat(""Average number of flips until HT:"", mean(Y))"
"1","Average number of flips until HT:"
"1"," "
"1","4.047"
